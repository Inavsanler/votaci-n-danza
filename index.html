<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Nominados</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
    <div class="container py-5">
        <h1 class="text-center mb-4">Nominados al Mensaje del Día Internacional de la Danza</h1>
        <div id="nominee-list" class="row g-4"></div>
    </div>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js";

        // Configuración de Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyD3TxXM7pXatK_A9IA9sLeySt1sP84_Haw",
            authDomain: "votosmensajediadanza.firebaseapp.com",
            databaseURL: "https://votosmensajediadanza-default-rtdb.firebaseio.com/",
            projectId: "votosmensajediadanza",
            storageBucket: "votosmensajediadanza.appspot.com",
            messagingSenderId: "482989069896",
            appId: "1:482989069896:web:2aec18e2a89c4b6b616a7d"
        };

        // Inicializar Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        // Función para cargar los nominados
        function loadNominees() {
            const nomineesRef = ref(database, 'nominees/');
            onValue(nomineesRef, (snapshot) => {
                const data = snapshot.val();
                const nomineeList = document.getElementById('nominee-list');
                nomineeList.innerHTML = '';

                if (data) {
                    for (let id in data) {
                        const nominee = data[id];
                        nomineeList.innerHTML += `
                            <div class="col-md-4">
                                <div class="card shadow-sm">
                                    <img src="${nominee.photo}" class="card-img-top" alt="${nominee.name}">
                                    <div class="card-body">
                                        <h5 class="card-title">${nominee.name}</h5>
                                        <p>País: ${nominee.country}</p>
                                        <p>Votos: ${nominee.votes || 0}</p>
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                } else {
                    nomineeList.innerHTML = '<p>No se encontraron nominados.</p>';
                }
            });
        }

        // Cargar los nominados al cargar la página
        window.onload = loadNominees;
    </script>
</body>
</html>
